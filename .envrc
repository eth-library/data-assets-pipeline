# Nix flake + direnv integration
use flake

# Watch for changes to trigger environment reload
watch_file pyproject.toml
watch_file flake.nix
watch_file flake.lock
watch_file uv.lock

# Environment variables
export DAGSTER_HOME="$PWD/.dagster"
export VIRTUAL_ENV="$PWD/.venv"

# Setup Python dependencies
.dev/scripts/uv-sync.sh || log_error "Python setup failed"
PATH_add "$PWD/.venv/bin"

# Show welcome message
dap welcome
